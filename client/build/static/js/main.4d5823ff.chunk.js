(this.webpackJsonpclient2=this.webpackJsonpclient2||[]).push([[0],{61:function(e,t,n){e.exports=n(93)},67:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(66),n(67);var i=n(14),s=n(22),u=n(52),l=n(17),p=n(49),h=n(26),d=n(2),m=n.n(d),f=n(5),v=n(6),b=n(53),y=n.n(b),E={Accept:"application/json","Content-Type":"application/json"};function g(e,t){return j.apply(this,arguments)}function j(){return(j=Object(f.a)(m.a.mark((function e(t,n){var a,r,c,o,i,s,u,l,p,h=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>2&&void 0!==h[2]?h[2]:null,r=Object.assign({},E),c=Object.assign({},a),Object.values(c).some((function(e){return e instanceof File}))){for(r["Content-Type"]="multipart/form-data",o=new FormData,i=0,s=Object.keys(c);i<s.length;i++)u=s[i],o.append(u,c[u]);c=o}return e.prev=5,e.next=8,y.a.request({method:t,url:n,data:c,headers:r,responseType:"json",params:"get"===t?c:void 0});case 8:l=e.sent,e.next=20;break;case 11:if(e.prev=11,e.t0=e.catch(5),e.t0.response){e.next=15;break}throw e.t0;case 15:if(422!==e.t0.response.status){e.next=19;break}throw(p=new Error("422 response")).__SERVER_SIDE_ERRORS__=e.t0.response.data.errors,p;case 19:throw e.t0;case 20:return e.abrupt("return",l.data);case 21:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function O(){return(O=Object(f.a)(m.a.mark((function e(t){var n,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",g("get",t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(f.a)(m.a.mark((function e(t){var n,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,e.abrupt("return",g("post",t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(f.a)(m.a.mark((function e(t){var n,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,e.abrupt("return",g("put",t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(f.a)(m.a.mark((function e(t){var n,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,e.abrupt("return",g("delete",t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S={get:function(e){return O.apply(this,arguments)},post:function(e){return w.apply(this,arguments)},put:function(e){return x.apply(this,arguments)},del:function(e){return k.apply(this,arguments)}},N=window.location,C=N.protocol,I=N.hostname,T=["".concat(C,"//").concat(I,":8000"),window.location.origin,window.location.origin][1],J="".concat(T,"/highkick"),L={URLS:{ws:"ws".concat("https:"===window.location.protocol?"s":"","://").concat(J.split("//")[1],"/ws"),highkick:{hello:"".concat(J,"/highkick/hello")},jobs:{job:function(e){return"".concat(J,"/jobs/show/").concat(e)},retry:function(e){return"".concat(J,"/jobs/retry/").concat(e)},retryFailedLeaves:function(e){return"".concat(J,"/jobs/retry_failed_leaves/").concat(e)},subtree:function(e){return"".concat(J,"/jobs/subtree/").concat(e)},input:function(e){return"".concat(J,"/jobs/input/").concat(e)},run:"".concat(J,"/jobs/run"),destroy:function(e){return"".concat(J,"/jobs/delete/").concat(e)}},jobRoots:{index:"".concat(J,"/job_roots/index"),active:"".concat(J,"/job_roots/active")},jobLogs:{index:function(e){return"".concat(J,"/job_logs/index/").concat(e)}},jobMetas:{index:"".concat(J,"/job_metas/index")},schedulers:{index:"".concat(J,"/schedulers/index"),create:"".concat(J,"/schedulers/create"),update:function(e){return"".concat(J,"/schedulers/update/").concat(e)},destroy:function(e){return"".concat(J,"/schedulers/destroy/").concat(e)},show:function(e){return"".concat(J,"/schedulers/show/").concat(e)}}}},D=function e(t){Object(v.a)(this,e),this.newValue=t,this.type="CHANGE_VIEWJSONLIKEAPRO"};var R={hello:function(){return function(){var e=Object(f.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get(L.URLS.highkick.hello);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},changeViewJSONlikeAPro:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n,a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(new D(e));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},A={viewJSONlikeAPro:!0};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_VIEWJSONLIKEAPRO":var n=t;return Object.assign({},e,{viewJSONlikeAPro:n.newValue})}return e}var P=n(9),F=n(28),M=n.n(F),U=function(){function e(t){for(var n in Object(v.a)(this,e),this.id=0,this.type="",this.path="",this.sid="",this.input="",this.output="",this.status="initial",this.treeStatus=void 0,this.createdAt="",this.cron=void 0,this.logsCount=0,this.StartedAt="",this.FinishedAt="",this.childs=[],this.childrenStatuses={},t)this[n]=t[n]}return Object(P.a)(e,[{key:"isRoot",value:function(){return""===this.path}},{key:"isPeriodical",value:function(){return void 0!==this.cron}},{key:"parentID",value:function(){if(this.isRoot())return null;var e=this.path.split("/").map((function(e){return parseInt(e)}));return e[e.length-1]}},{key:"digest",value:function(){var e=this.childs.map((function(e){return e.digest()})).join();return"".concat(this.id).concat(this.status).concat(this.treeStatus).concat(e)}},{key:"durationSeconds",value:function(){return this.StartedAt&&this.FinishedAt?M()(this.FinishedAt).diff(M()(this.StartedAt))/1e3:0}}],[{key:"deserialize",value:function(t){return new e(t)}}]),e}(),V=n(58);var z={compose:function(e){var t=e.rootId,n=e.items,a=n.find((function(e){return e.id===t}));if(!a)throw new Error("No root found");return function e(t){t.childs=n.filter((function(e){return e.parentID()===t.id}));var a,r=Object(V.a)(t.childs);try{for(r.s();!(a=r.n()).done;){e(a.value)}}catch(c){r.e(c)}finally{r.f()}}(a),a}};function q(){return(q=Object(f.a)(m.a.mark((function e(t,n){var a,r,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},n,{filters:t}),r=L.URLS.jobRoots.index,e.next=4,S.get(r,a);case 4:return c=e.sent,o=c.map(U.deserialize),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(f.a)(m.a.mark((function e(t){var n,a,r,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},{filters:t}),a=L.URLS.jobRoots.active,e.next=4,S.get(a,n);case 4:return r=e.sent,c=r.ChildrenStats,o=(o=r.Items.map(U.deserialize)).map((function(e){return e.childrenStatuses=c.find((function(t){return t.RootID===e.id})).ChildrenStatuses,e})),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(f.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get(L.URLS.jobs.subtree(t.id));case 2:return n=e.sent,a=n.map(U.deserialize),r=z.compose({items:a,rootId:t.id}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.post(L.URLS.jobs.retry(t.id));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.post(L.URLS.jobs.retryFailedLeaves(t.id));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.URLS.jobs.destroy(t.id),e.next=3,S.del(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(f.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.URLS.jobs.input(t.id),e.next=3,S.get(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(f.a)(m.a.mark((function e(t,n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.URLS.jobs.run,e.next=3,S.post(a,{SID:t,Input:n});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $={loadRoots:function(e,t){return q.apply(this,arguments)},loadSubtree:function(e){return B.apply(this,arguments)},retry:function(e){return X.apply(this,arguments)},retryFailedLeaves:function(e){return H.apply(this,arguments)},destroy:function(e){return W.apply(this,arguments)},treeStatus:function e(t){var n=t.childs.map(e);return n.push(t.status),t.treeStatus&&n.push(t.treeStatus),n.some((function(e){return"processing"===e}))?"processing":n.some((function(e){return"failed"===e}))?"failed":n.every((function(e){return"completed"===e}))?"completed":n.every((function(e){return"initial"===e}))?"initial":"processing"},getInput:function(e){return Y.apply(this,arguments)},runJob:function(e,t){return K.apply(this,arguments)},loadActiveRoots:function(e){return G.apply(this,arguments)}},Q="JOBS/INDEX",Z=function e(t){Object(v.a)(this,e),this.job=t,this.type="JOBS/UPDATE"},ee=function e(t){Object(v.a)(this,e),this.jobs=t,this.type=Q},te=function e(t){Object(v.a)(this,e),this.job=t,this.type="JOBS/DESTROY"};var ne={index:function(e,t){return function(){var n=Object(f.a)(m.a.mark((function n(a,r){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.loadRoots(e,t);case 2:c=n.sent,a(new ee(c));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},loadSubtree:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n,a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.loadSubtree(e);case 2:return r=t.sent,n(new Z(r)),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},destroy:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n,a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.destroy(e);case 2:n(new te(e));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},getInput:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n,a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.getInput(e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},run:function(e,t){return function(){var n=Object(f.a)(m.a.mark((function n(a,r){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.runJob(e,t);case 2:return c=n.sent,n.abrupt("return",c);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},loadActiveRoots:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n,a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.loadActiveRoots(e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},ae=[];function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:var n=t;return n.jobs;case"JOBS/UPDATE":var a=t,r=a.job,c=e.find((function(e){return e.id===a.job.id}));if(!c&&r.isRoot())return e.unshift(r),e.slice(0);if(c){var o=e.indexOf(c);return e[o]=r,e.slice(0)}return e}return e}var ce=function(){function e(t){for(var n in Object(v.a)(this,e),this.SID=void 0,this.Title=void 0,this.InputJSONSchema=void 0,t)this[n]=t[n]}return Object(P.a)(e,null,[{key:"deserialize",value:function(t){return new e(t)}}]),e}();function oe(){return(oe=Object(f.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=L.URLS.jobMetas.index,e.next=3,S.get(t,{});case 3:return n=e.sent,a=n.items.map(ce.deserialize),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie={index:function(){return oe.apply(this,arguments)}},se=function e(t){Object(v.a)(this,e),this.items=t,this.type="JOB_METAS/INDEX"};var ue={index:function(){return function(){var e=Object(f.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.index();case 2:a=e.sent,t(new se(a));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},le=[];function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JOB_METAS/INDEX":var n=t;return n.items}return e}var he=function(e){return Object(s.c)({router:Object(h.b)(e),app:_,jobs:re,jobMetas:pe})},de=n(59),me=function(e){return function(e){return function(t){return void 0!==(n=t)&&null!==n&&"object"===typeof n?e(Object(de.a)({},t)):e(t);var n}}},fe=s.d,ve=window.__USE_MEMORY_HISTORY__?l.d():l.b();window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&(fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__);var be=fe(s.a(Object(p.a)(ve),u.a,me));var ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=he(ve),n=s.e(t,e,be);return n}(),Ee=n(13),ge=n(12),je=n(114),Oe=n(57),we=n(20),xe=n(115),ke=n(95),Se=function(e){var t=e.widget||!1;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{bg:"light",variant:"light",className:"border-dark border-bottom d-flex align-items-center"},r.a.createElement(xe.a.Brand,{href:"",className:"p-0 flex-fill"},r.a.createElement("img",{src:"favicon.ico",height:"32",width:"32"}),"\xa0",r.a.createElement("a",{href:"/",className:"text-dark"},"Highkick")),r.a.createElement(we.a,{to:"/online",className:"pr-2"},"Online"),r.a.createElement(we.a,{to:"/index",className:"pr-2"},"Jobs"),r.a.createElement(we.a,{to:"/schedulers/index"},"Schedulers")),r.a.createElement(ke.a,{className:t?"m-0 p-0":void 0},e.children))},Ne=n(11),Ce=n(10),Ie=n(111),Te=n(29),Je=n.n(Te),Le=n(117),De=n(101),Re=n(102),Ae=n(103),_e=n(104),Pe=n(105),Fe=n(106),Me=n(107),Ue=n(108),Ve=n(109);var ze=function(e){var t=e.seconds,n=Math.floor(t/3600);t-=3600*n;var a=Math.floor(t/60);return t-=60*a,r.a.createElement("span",null,n>0&&r.a.createElement(r.a.Fragment,null,n,"h"),a>0&&r.a.createElement(r.a.Fragment,null,a,"m"),t>0&&r.a.createElement(r.a.Fragment,null,t,"s"))},qe=n(96),Ge=n(97),Be=n(98),Xe=n(99),He=n(100),We=function(e){switch(e.status){case"scheduled":return r.a.createElement(qe.a,null);case"initial":return r.a.createElement(Ge.a,null);case"processing":return r.a.createElement(Be.a,null);case"failed":return r.a.createElement(Xe.a,null);case"completed":return r.a.createElement(He.a,null)}return null},Ye=function(){function e(t){Object(v.a)(this,e),this.id=0,this.content="",this.createdAt="",t.id&&(this.id=t.id),t.content&&(this.content=t.content),t.createdAt&&(this.createdAt=t.createdAt)}return Object(P.a)(e,null,[{key:"deserialize",value:function(t){return new e(t)}}]),e}();function Ke(){return(Ke=Object(f.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get(L.URLS.jobLogs.index(t.id));case 2:return n=e.sent,a=n.map(Ye.deserialize).reverse(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $e,Qe={loadLogs:function(e){return Ke.apply(this,arguments)}},Ze=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={showLogs:!1,jobLogs:[],input:null,showInputOutput:!1},a.loadItem=a.loadItem.bind(Object(Ce.a)(a)),a.showLogs=a.showLogs.bind(Object(Ce.a)(a)),a.retry=a.retry.bind(Object(Ce.a)(a)),a.retryFailedLeaves=a.retryFailedLeaves.bind(Object(Ce.a)(a)),a.destroy=a.destroy.bind(Object(Ce.a)(a)),a.showInputOutput=a.showInputOutput.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.expanded,c=t.jobMetas,o=this.state,i=o.input,s=o.jobLogs,u=""!==n.output?JSON.parse(n.output):{},l=(c||[]).find((function(e){return e.SID===n.type})),p=$.treeStatus(n),h=function(e){return"failed"===e?"#fcede8":"processing"===e?"#e8f4fc":"#f8f9fa"};return r.a.createElement("div",{className:"p-0 m-0",style:{display:"grid",gridTemplateAreas:"'header actions' 'details details'",gridTemplateColumns:"1fr 170px",gridGap:"2px",background:h(p)},key:JSON.stringify(l)},r.a.createElement("div",{style:{gridArea:"header",cursor:"pointer"},className:"d-flex align-items-center"},this.renderStatus(),r.a.createElement("span",{className:"ml-1 mr-1"},(null===l||void 0===l?void 0:l.Title)||n.sid),r.a.createElement("small",{className:"text-muted ml-2 mr-2"},n.id),r.a.createElement(Le.a,{variant:"light",className:this.state.showInputOutput?void 0:"text-muted",onClick:function(){return e.showInputOutput(!e.state.showInputOutput)}},r.a.createElement(De.a,null)),n.logsCount>0&&r.a.createElement(Le.a,{variant:"light",className:this.state.showLogs?void 0:"text-muted",onClick:function(){return e.showLogs(!e.state.showLogs)}},r.a.createElement(Re.a,null)),r.a.createElement("span",{onClick:this.loadItem,style:{cursor:"pointer"}},a?r.a.createElement(Ae.a,null):r.a.createElement(_e.a,null)),r.a.createElement("div",{className:"flex-fill"},Object.keys(n.childrenStatuses||{}).map((function(e){return r.a.createElement(r.a.Fragment,null,n.childrenStatuses[e]>0&&r.a.createElement("span",{className:"badge",style:{background:h(e)}},e," ",r.a.createElement("span",{className:"badge badge-light"},n.childrenStatuses[e])))}))),r.a.createElement("small",{className:"text-muted"},M()(n.createdAt).format("MM-DD HH:mm"),n.durationSeconds()>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null),r.a.createElement(ze,{seconds:n.durationSeconds()})))),r.a.createElement("div",{style:{gridArea:"actions"},className:"btn-group btn-group-sm"},r.a.createElement(Le.a,{variant:"light",onClick:this.retry},r.a.createElement(Fe.a,null)),r.a.createElement(Le.a,{variant:"light",onClick:this.destroy},r.a.createElement(Me.a,null))),r.a.createElement("div",{style:{gridArea:"details"},className:"d-flex flex-column"},r.a.createElement("div",{style:{display:this.state.showInputOutput?"flex":"none"}},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(Ue.a,{className:"m-2",style:{zoom:1.5}}),this.props.viewJSONlikeAPro&&r.a.createElement(r.a.Fragment,null,!!i&&r.a.createElement(Je.a,{src:i,collapsed:!0,style:{fontSize:10},displayDataTypes:!1}),!i&&r.a.createElement(r.a.Fragment,null,"\u2014")),!this.props.viewJSONlikeAPro&&r.a.createElement("code",{style:{fontSize:10}},JSON.stringify(i,null,2))),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(Ve.a,{className:"m-2",style:{zoom:1.5}}),this.props.viewJSONlikeAPro&&r.a.createElement(r.a.Fragment,null,!!u&&r.a.createElement(Je.a,{src:u,collapsed:!0,style:{fontSize:10},displayDataTypes:!1}),!u&&r.a.createElement(r.a.Fragment,null,"\u2014")),!this.props.viewJSONlikeAPro&&r.a.createElement("code",{style:{fontSize:10}},JSON.stringify(u,null,2)))),r.a.createElement("div",{style:{display:this.state.showLogs?"block":"none"}},s.map((function(e){return r.a.createElement("div",{className:"alert alert-primary p-0 d-flex",key:e.id},r.a.createElement("small",{className:"text-muted mr-2"},e.createdAt),r.a.createElement("code",{className:"flex-fill"},e.content))})))))}},{key:"renderStatus",value:function(){var e=this.props.item,t=$.treeStatus(e);return e.status===t?r.a.createElement(We,{status:e.status}):[r.a.createElement(We,{status:t}),r.a.createElement(We,{status:e.status})]}},{key:"loadItem",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.item,t.expanded){e.next=8;break}return e.next=4,this.props.loadSubtree(n);case 4:a=e.sent,this.props.onExpand(!0,a),e.next=9;break;case 8:this.props.onExpand(!1,void 0);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showLogs",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.item,!t){e.next=8;break}return e.next=4,Qe.loadLogs(n);case 4:a=e.sent,this.setState({showLogs:t,jobLogs:a}),e.next=9;break;case 8:this.setState({showLogs:t});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"retry",value:function(){var e=this.props.item;!1!==window.confirm("Do you wanna to retry this job?")&&Object(f.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.retry(e);case 2:case"end":return t.stop()}}),t)})))()}},{key:"retryFailedLeaves",value:function(){var e=this.props.item;!1!==window.confirm("Do you wanna to retry failed children of this job?")&&Object(f.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.retryFailedLeaves(e);case 2:case"end":return t.stop()}}),t)})))()}},{key:"destroy",value:function(){!1!==window.confirm("Do you wanna to destroy this job?")&&this.props.destroy()}},{key:"showInputOutput",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t){e.next=5;break}return e.next=3,this.props.getInput();case 3:n=e.sent,this.setState({input:n});case 5:this.setState({showInputOutput:t});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(r.a.Component),et=i.c((function(e,t){return{jobMetas:e.jobMetas,viewJSONlikeAPro:e.app.viewJSONlikeAPro}}),(function(e,t){var n=t.item;return{loadSubtree:function(t){return e(ne.loadSubtree(t))},destroy:function(){return e(ne.destroy(n))},getInput:function(){return e(ne.getInput(n))}}}))(Ze),tt=n(7),nt=n.n(tt),at=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={expanded:!1,updatedItem:void 0},a.onExpand=a.onExpand.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"render",value:function(){var e=this.props.builder,t=this.state,n=t.expanded,a=(t.updatedItem,this.state.updatedItem||this.props.item);return r.a.createElement("li",{className:"list-group-item p-0 border-0 m-0 mb-1",key:a.digest()},r.a.createElement(e,{item:a,onExpand:this.onExpand,expanded:n}),r.a.createElement("div",{className:nt()({"d-none":!n,"mt-1 ml-4":!0})},r.a.createElement(rt,{items:a.childs,builder:e})))}},{key:"onExpand",value:function(e,t){this.setState({expanded:e,updatedItem:t})}}]),n}(r.a.Component),rt=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.builder;return r.a.createElement("ul",{className:nt()("list-group","list-group-flush","p-0")},t.map((function(e){return r.a.createElement(at,{key:e.id,item:e,builder:n})})))}}]),n}(r.a.Component),ct=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).onPageLinkClick=a.onPageLinkClick.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"render",value:function(){var e=this,t=this.props.maxPage;return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination pagination-sm justify-content-center m-1"},Array.apply(null,Array(t)).map((function(t,n){return e.renderPageLink(n+1)}))))}},{key:"renderPageLink",value:function(e){var t=this,n=this.props.page===e;return r.a.createElement("li",{className:"page-item",key:e,style:{cursor:"pointer"}},n&&r.a.createElement("span",{className:"page-link text-muted",style:{border:"none"}},e),!n&&r.a.createElement("a",{className:"page-link",style:{border:"none"},href:"#",onClick:function(n){return t.onPageLinkClick(n,e)}},e))}},{key:"onPageLinkClick",value:function(e,t){e.preventDefault(),this.props.onPageChange(t)}}]),n}(r.a.Component),ot=n(110),it=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).onChange=a.onChange.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"render",value:function(){var e=this.props.value,t=(this.props.jobMetas||[]).sort((function(e,t){return e.SID>t.SID?1:-1}));return r.a.createElement("form",{onChange:this.onChange},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(ot.a,null),r.a.createElement("select",{className:"form-control form-control-sm",name:"Type",value:e.Type},r.a.createElement("option",null),(t||[]).map((function(e){return r.a.createElement("option",{value:e.SID},e.SID)})))))}},{key:"onChange",value:function(e){var t=new FormData(e.currentTarget),n={};""!==t.get("Type")&&(n.Type=t.get("Type")),this.props.onChange(n)}}]),n}(r.a.Component),st=i.c((function(e,t){return{jobMetas:e.jobMetas}}),(function(e,t){return{}}))(it),ut=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={loading:!0,page:1,maxPage:1,filters:{}},a.onPageChange=a.onPageChange.bind(Object(Ce.a)(a)),a.onFiltersChange=a.onFiltersChange.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.loadItems(1).then((function(){}))}},{key:"render",value:function(){var e=this,t=this.props.roots,n=this.state,a=n.loading,c=n.page,o=n.maxPage;return a?r.a.createElement("div",{className:"d-flex w-100 h-100"},r.a.createElement("div",{className:"m-auto"},"Loading")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"jumbotron p-2 m-1 d-flex align-items-center"},r.a.createElement("div",{className:"form-check form-check-inline flex-fill"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",defaultChecked:this.props.viewJSONlikeAPro,id:"viewJSONlikeAPro",onChange:function(t){e.props.changeViewJSONlikeAPro(t.currentTarget.checked)}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"viewJSONlikeAPro"},"View JSON like a pro")),r.a.createElement(st,{value:this.state.filters,onChange:this.onFiltersChange}),r.a.createElement(we.a,{to:"/new",className:"btn btn-light"},r.a.createElement(Ie.a,null))),r.a.createElement(rt,{items:t||[],builder:et}),r.a.createElement(ct,{page:c,maxPage:o,onPageChange:this.onPageChange}))}},{key:"onPageChange",value:function(e){this.loadItems(e).then((function(){}))}},{key:"loadItems",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state,a=n.filters,r=n.maxPage,e.next=3,this.props.index(a,{page:t});case 3:this.setState({loading:!1,page:t,maxPage:Math.max(r,t+1)});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onFiltersChange",value:function(e){var t=this;this.setState({filters:e},(function(){t.loadItems(1).then((function(){}))}))}}]),n}(r.a.Component),lt=i.c((function(e,t){return{roots:e.jobs,jobMetas:e.jobMetas,viewJSONlikeAPro:e.app.viewJSONlikeAPro}}),(function(e,t){return{index:function(t,n){return e(ne.index(t,n))},changeViewJSONlikeAPro:function(t){return e(R.changeViewJSONlikeAPro(t))}}}))(ut),pt=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).pollInterval=null,a.pulseIndicatorEl=r.a.createRef(),a.state={loading:!0,filters:{},items:[]},a.loadItems=a.loadItems.bind(Object(Ce.a)(a)),a.touchPulseIndicator=a.touchPulseIndicator.bind(Object(Ce.a)(a)),a.onFiltersChange=a.onFiltersChange.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.loadItems(),this.pollInterval=window.setInterval(this.loadItems,2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.pollInterval)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"jumbotron p-2 m-1 d-flex align-items-center"},r.a.createElement("h3",{className:"flex-fill m-0"},"Online\xa0",r.a.createElement("div",{className:"d-inline-block pulse-indicator",ref:this.pulseIndicatorEl})),r.a.createElement(st,{value:this.state.filters,onChange:this.onFiltersChange}),r.a.createElement(we.a,{to:"/new",className:"btn btn-light"},r.a.createElement(Ie.a,null))),this.renderPage())}},{key:"renderPage",value:function(){return this.state.loading?r.a.createElement("div",{className:"d-flex w-100 h-100"},r.a.createElement("div",{className:"m-auto"},"Loading")):(this.state.items||[]).map((function(e){return r.a.createElement(rt,{items:[e],builder:et})}))}},{key:"loadItems",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadActiveRoots(this.state.filters);case 2:t=e.sent,this.setState({loading:!1,items:t},this.touchPulseIndicator);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"touchPulseIndicator",value:function(){var e,t=this;null===(e=this.pulseIndicatorEl.current)||void 0===e||e.classList.add("active"),setTimeout((function(){var e;null===(e=t.pulseIndicatorEl.current)||void 0===e||e.classList.remove("active")}),500)}},{key:"onFiltersChange",value:function(e){this.setState({filters:e})}}]),n}(r.a.Component),ht=i.c((function(e,t){return{}}),(function(e,t){return{loadActiveRoots:function(t){return e(ne.loadActiveRoots(t))}}}))(pt),dt=n(116),mt=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).elRef=r.a.createRef(),a.jsonEditor=void 0,a.onChange=a.onChange.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.jsonEditor=new window.JSONEditor(this.elRef.current,{theme:"bootstrap4",schema:this.props.jsonSchema,disable_array_reorder:!0,array_controls_top:!0,form_name_root:this.props.label,no_additional_properties:!0,show_errors:"always",object_layout:"table",remove_empty_properties:!1}),this.jsonEditor.setValue(this.props.defaultValue),this.jsonEditor.on("change",this.onChange)}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.elRef})}},{key:"onChange",value:function(){var e=this.jsonEditor.getValue();this.props.onChange(e)}}]),n}(r.a.Component),ft=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={},a.onJobSIDChange=a.onJobSIDChange.bind(Object(Ce.a)(a)),a.onSubmit=a.onSubmit.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"render",value:function(){var e=(this.props.jobMetas||[]).sort((function(e,t){return e.Title.localeCompare(t.Title)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Run new job"),r.a.createElement(dt.a,{onSubmit:this.onSubmit},r.a.createElement(dt.a.Group,null,r.a.createElement(dt.a.Label,null,"SID"),r.a.createElement(dt.a.Control,{as:"select",custom:!0,onChange:this.onJobSIDChange},r.a.createElement("option",{className:"text-muted",value:""},"Choose job to create"),e.map((function(e){return r.a.createElement("option",{value:e.SID},e.Title)})))),r.a.createElement(dt.a.Group,null,this.renderInputEditor(),r.a.createElement("blockquote",{className:"blockquote"},r.a.createElement("p",{className:"mb-0"},JSON.stringify(this.state.input)),r.a.createElement("footer",{className:"blockquote-footer"},"would be sent as job input"))),r.a.createElement(Le.a,{variant:"light",type:"submit",className:"w-100"},"Submit")))}},{key:"renderInputEditor",value:function(){var e=this,t=this.state.jobSID,n=(this.props.jobMetas||[]).find((function(e){return e.SID===t}));if(n){if(!n.InputJSONSchema)return r.a.createElement("div",{className:"alert alert-primary"},"No input JSON schema defined for this Job");var a=JSON.parse(n.InputJSONSchema);return r.a.createElement(mt,{label:"Input",jsonSchema:a,defaultValue:this.state.input,onChange:function(t){e.setState({input:t})}})}}},{key:"onSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.runJob(this.state.jobSID,this.state.input);case 3:return e.sent,alert("Job has started"),window.location.reload(),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onJobSIDChange",value:function(e){var t=e.target.value;""===t?this.setState({jobSID:void 0}):this.setState({jobSID:t})}}]),n}(r.a.Component),vt=i.c((function(e,t){return{jobMetas:e.jobMetas}}),(function(e,t){return{runJob:function(t,n){return e(ne.run(t,n))}}}))(ft);!function(e){e.Timer="timer",e.ExactTime="exact_time"}($e||($e={}));var bt=function e(t){for(var n in Object(v.a)(this,e),this.ID=void 0,this.JobType=void 0,this.JobInput=void 0,this.SchedulerType=void 0,this.RunEverySeconds=void 0,this.ExactTimes=void 0,this.Stopped=void 0,this.UpdatedAt=void 0,this.LastRunAt=void 0,this.LastError=void 0,t)this[n]=t[n]};function yt(){return(yt=Object(f.a)(m.a.mark((function e(){var t,n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.assign({},{}),n=L.URLS.schedulers.index,e.next=4,S.get(n,t);case 4:return a=e.sent,r=a.map((function(e){return new bt(e)})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(){return(Et=Object(f.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},t),a=L.URLS.schedulers.create,e.next=4,S.post(a,n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return(gt=Object(f.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},t),a=L.URLS.schedulers.update(t.ID),e.next=4,S.post(a,n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){return(jt=Object(f.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},{}),a=L.URLS.schedulers.show(t),e.next=4,S.get(a,n);case 4:return r=e.sent,e.abrupt("return",new bt(r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(){return(Ot=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.URLS.schedulers.destroy(t.ID),e.next=3,S.del(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wt={index:function(){return yt.apply(this,arguments)},create:function(e){return Et.apply(this,arguments)},destroy:function(e){return Ot.apply(this,arguments)},update:function(e){return gt.apply(this,arguments)},show:function(e){return jt.apply(this,arguments)}};var xt={index:function(){return function(){var e=Object(f.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.index();case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},create:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n,a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wt.create(e);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},destroy:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n,a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wt.destroy(e);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},update:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n,a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wt.update(e);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},show:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n,a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wt.show(e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},kt=n(112),St=n(113),Nt=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={},a.destroy=a.destroy.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"render",value:function(){var e=this.props.item,t=JSON.parse(e.JobInput);return r.a.createElement("div",{className:"card w-100"},r.a.createElement("div",{className:"card-body d-flex align-items-center"},r.a.createElement("span",null,e.JobType,"\xa0",e.SchedulerType===$e.Timer&&r.a.createElement(r.a.Fragment,null,"every ",r.a.createElement(ze,{seconds:e.RunEverySeconds})),e.SchedulerType===$e.ExactTime&&r.a.createElement(r.a.Fragment,null,"at ",JSON.stringify(e.ExactTimes))),r.a.createElement("div",{className:"flex-fill"},r.a.createElement(Je.a,{src:t,collapsed:!0,style:{fontSize:10},displayDataTypes:!1})),!!e.Stopped&&r.a.createElement(kt.a,null),r.a.createElement("span",null,e.LastRunAt),!!e.LastError&&r.a.createElement("div",{className:"alert alert-danger"},e.LastError),r.a.createElement(we.a,{to:"/schedulers/edit/".concat(e.ID)},r.a.createElement(St.a,null)),r.a.createElement(Le.a,{variant:"light",onClick:this.destroy},r.a.createElement(Me.a,null))))}},{key:"destroy",value:function(){!1!==window.confirm("Do you wanna to destroy?")&&this.props.destroy(this.props.item)}}]),n}(r.a.Component),Ct=i.c((function(e,t){return{}}),(function(e,t){return{destroy:function(t){return e(xt.destroy(t))}}}))(Nt),It=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={schedulers:[]},a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.indexSchedulers();case 2:t=e.sent,this.setState({schedulers:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.schedulers;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"jumbotron p-2 m-1 d-flex align-items-center"},r.a.createElement("span",{className:"flex-fill"},"Schedulers"),r.a.createElement(we.a,{to:"/schedulers/new",className:"btn btn-light"},r.a.createElement(Ie.a,null))),e.map((function(e){return r.a.createElement(Ct,{item:e})})))}}]),n}(r.a.Component),Tt=i.c((function(e,t){return{}}),(function(e,t){return{indexSchedulers:function(){return e(xt.index())}}}))(It),Jt=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={serverTime:""},a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.hello();case 2:t=e.sent,this.setState({serverTime:t.ServerTime});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,"Server",r.a.createElement(Pe.a,null),"\xa0",this.state.serverTime)}}]),n}(r.a.Component),Lt=i.c((function(e,t){return{}}),(function(e,t){return{hello:function(){return e(R.hello())}}}))(Jt),Dt=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={},a.onChange=a.onChange.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"render",value:function(){var e=this,t=this.props.value,n=(this.props.jobMetas||[]).sort((function(e,t){return e.Title.localeCompare(t.Title)}));return r.a.createElement("div",null,r.a.createElement(dt.a.Group,null,r.a.createElement(dt.a.Label,null,"SID"),r.a.createElement(dt.a.Control,{as:"select",custom:!0,value:t.JobType,onChange:function(n){t.JobType=n.currentTarget.value,e.onChange(t)}},r.a.createElement("option",{className:"text-muted",value:""},"Choose job to create"),n.map((function(e){return r.a.createElement("option",{value:e.SID},e.Title)})))),r.a.createElement(dt.a.Group,null,this.renderInputEditor(),r.a.createElement("blockquote",{className:"blockquote"},r.a.createElement("p",{className:"mb-0"},JSON.stringify(t.JobInput)),r.a.createElement("footer",{className:"blockquote-footer"},"job input"))),r.a.createElement(dt.a.Group,null,r.a.createElement(dt.a.Label,null,"SchedulerType"),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{className:"btn btn-".concat(t.SchedulerType===$e.Timer?"success":"primary"),onClick:function(n){t.SchedulerType=$e.Timer,e.onChange(t)}},"Timer"),r.a.createElement("button",{className:"btn btn-".concat(t.SchedulerType===$e.ExactTime?"success":"primary"),onClick:function(n){t.SchedulerType=$e.ExactTime,e.onChange(t)}},"ExactTime"))),t.SchedulerType===$e.Timer&&r.a.createElement(dt.a.Group,null,r.a.createElement(dt.a.Label,null,"RunEverySeconds"),r.a.createElement(dt.a.Control,{type:"number",value:t.RunEverySeconds,onChange:function(n){t.RunEverySeconds=parseInt(n.currentTarget.value,10),e.onChange(t)}}),r.a.createElement("blockquote",{className:"blockquote"},r.a.createElement(ze,{seconds:t.RunEverySeconds}))),t.SchedulerType===$e.ExactTime&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(dt.a.Group,null,r.a.createElement(dt.a.Label,null,"ExactTimes"),r.a.createElement(dt.a.Control,{value:t.ExactTimes.join(", "),onChange:function(n){t.ExactTimes=n.currentTarget.value.split(", ").map((function(e){return e.trim()})),e.onChange(t)}}),r.a.createElement("blockquote",{className:"blockquote"},JSON.stringify(t.ExactTimes)))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(Lt,null))),r.a.createElement(dt.a.Group,null,r.a.createElement(dt.a.Check,{type:"checkbox",label:"Stopped",checked:t.Stopped,onChange:function(n){t.Stopped=n.currentTarget.checked,e.onChange(t)}})))}},{key:"renderInputEditor",value:function(){var e=this,t=this.props.value;if(!t.JobType)return null;var n=(this.props.jobMetas||[]).find((function(e){return e.SID===t.JobType}));if(n){if(!n.InputJSONSchema)return r.a.createElement("div",{className:"alert alert-primary"},"No input JSON schema defined for this Job");var a=JSON.parse(n.InputJSONSchema);return r.a.createElement(mt,{key:"".concat(t.ID,"-").concat(t.JobType),label:"Input",jsonSchema:a,defaultValue:JSON.parse(t.JobInput||"{}"),onChange:function(n){t.JobInput=JSON.stringify(n),e.onChange(t)}})}}},{key:"onChange",value:function(e){var t=new bt(e);this.props.onChange(t)}}]),n}(r.a.Component),Rt=i.c((function(e,t){return{jobMetas:e.jobMetas}}),(function(e,t){return{}}))(Dt),At=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={model:new bt({Stopped:!1,ExactTimes:[]})},a.onSubmit=a.onSubmit.bind(Object(Ce.a)(a)),a.onChange=a.onChange.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"render",value:function(){var e=this.state.model;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Create scheduler"),r.a.createElement(Rt,{value:e,onChange:this.onChange}),r.a.createElement(Le.a,{variant:"light",className:"w-100",onClick:this.onSubmit},"Create"))}},{key:"onChange",value:function(e){this.setState({model:e})}},{key:"onSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.create(this.state.model);case 2:alert("Done, sir!"),this.props.history.push("/schedulers/index");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(r.a.Component),_t=i.c((function(e,t){return{}}),(function(e,t){return{create:function(t){return e(xt.create(t))}}}))(At),Pt=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={model:new bt({})},a.onSubmit=a.onSubmit.bind(Object(Ce.a)(a)),a.onChange=a.onChange.bind(Object(Ce.a)(a)),a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,n=parseInt(t,10),e.next=4,this.props.show(n);case 4:a=e.sent,this.setState({model:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.model;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Update scheduler"),r.a.createElement(Rt,{value:e,onChange:this.onChange}),r.a.createElement(Le.a,{variant:"light",className:"w-100",onClick:this.onSubmit},"Update"))}},{key:"onChange",value:function(e){this.setState({model:e})}},{key:"onSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.update(this.state.model);case 2:alert("Done, sir!"),this.props.history.push("/schedulers/index");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(r.a.Component),Ft=i.c((function(e,t){return{}}),(function(e,t){return{show:function(t){return e(xt.show(t))},update:function(t){return e(xt.update(t))}}}))(Pt);var Mt=function(){return r.a.createElement(Ne.c,null,r.a.createElement(Ne.a,{path:"/index",exact:!0,component:lt}),r.a.createElement(Ne.a,{path:"/online",exact:!0,component:ht}),r.a.createElement(Ne.a,{path:"/new",exact:!0,component:vt}),r.a.createElement(Ne.a,{path:"/schedulers/index",exact:!0,component:Tt}),r.a.createElement(Ne.a,{path:"/schedulers/new",exact:!0,component:_t}),r.a.createElement(Ne.a,{path:"/schedulers/edit/:id",exact:!0,component:Ft}),r.a.createElement(Ne.a,{component:lt}))},Ut=function(e){Object(Ee.a)(n,e);var t=Object(ge.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.props.indexJobMetas()}},{key:"render",value:function(){return r.a.createElement(h.a,{history:ve},r.a.createElement(Se,null,r.a.createElement(je.a,null,r.a.createElement(Oe.a,{md:12,className:"pt-2"},r.a.createElement(Mt,null)))))}}]),n}(r.a.Component),Vt=i.c((function(e,t){return{}}),(function(e,t){return{indexJobMetas:function(){return e(ue.index())}}}))(Ut);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:ye},r.a.createElement(Vt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.4d5823ff.chunk.js.map